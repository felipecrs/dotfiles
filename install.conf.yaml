- defaults:
    link:
      create: true
      relink: true
      force: true
- clean:
    - "~"
- link:
    ~/.profile:
    ~/.bashrc:
    ~/.zshrc:
    ~/.p10k.zsh:
    ~/.gitconfig:
- create:
    - ~/repos
    - ~/bin
    - ~/.local/bin
- shell:
    - command: git submodule update --init --recursive
      description: Installing submodules
    - command: echo "$USER  ALL=(ALL) NOPASSWD:ALL" | sudo tee "/etc/sudoers.d/$USER"
      description: Adding user to sudoers
    - command: sudo apt update && sudo apt install zsh -y
      description: Installing zsh
    - command: rm -rf "$HOME/.antigen"; git clone https://github.com/zsh-users/antigen.git "$HOME/.antigen"
      description: Installing antigen
    - command: sudo chsh -s $(which zsh) "$USER"
      description: Making zsh the default shell
    - command: sudo apt install build-essential curl file -y
      description: Installing Homebrew dependencies
    - command: /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
      description: Installing Homebrew
    - command: source "$HOME/.zshrc"
      description: Sourcing zshrc
    - command: bash -lc 'brew install gh shellcheck jq'
      description: Installing gh, shellcheck, jq
